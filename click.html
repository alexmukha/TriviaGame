<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Trivia Game</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/style.css">


</head>
<body>
    <div class="container text-center">
        <div class="jumbotron">
            <h1>TRIVIA GAME</h1>
            <p>This is a very random trivia questions game. Please get your mind ready for this game, because nobody knows what questions are going to be asked and on what topic. All of the questions are going to be straight from the internet and in the random format. </p>
            <!-- <div id="timer"></div> -->
           <h3><span id="timer" class="btn-primary normal">Are you ready??<br>Press ==> Start <== PRESSS</span></h3>
          <button id="btnnext" class="btn">next</button>&nbsp;&nbsp;<button id="btnstop" class="btn">stop</button>
        </div>
        <div id="questions">

        </div>
    
    
    
    </div>
<script> $(document).ready(function() {
        var timeLeft = 5;
        var amount = 1;
        var questions = [];
        var answers = [];
        var timerId;
        var gameInProgress = false;
        var answBtn = "";
        var $button;

        var queryURL = "https://opentdb.com/api.php?amount="+amount+"&difficulty=easy&type=multiple";
        var $div = $("<div>");

                $(".check").empty();
      

///////////////////////////////////////////////////////////
    $.ajax({
      url: queryURL,
      method: "GET"
    }).then(function(response) {
    function shuffle(array) {
/*
            var temp;
            var i = array.length
            while (i) {
                var m = Math.floor(Math.random() * i--);
                temp = array[i];
                array[i] = array[m];
                array[m] = temp; };
            return array; };
*/
for (var i = 0; i < response.results.length; i++) {
delete response.results[0].difficulty;
delete response.results[0].type;
questions[i].push({bookName:'mybook'});
questions.push(response.results[i]);
answers.push(questions[i].incorrect_answers);
answers[i].push(questions[i].correct_answer);
// shuffle(answers[i]);
console.log(questions);
}
//////////////////////////////////////////////////////////////
      var category = response.results[0].category;
      var $category = $('<div><b>Category:</b> '+category+ '</div>');
      $div.append($category);

      var question = response.results[0].question;
      var $question = $('<div><b>Question:</b> '+question+ '</div>');
      $div.append($question);


      for (var a = 0; a < answers[0].length; a++) {
        var answer = answers[0][a];
      var $answ = answers[0][a];
      var $answer = $('<div id="'+a+'" class="check btn btn-primary m-1" value="'+$answ+'"> '+$answ+'</div><br>');
      $div.append($answer);
    //   console.log($answer);
      }
   

 
          for (var c = 0; c < answers.length; c++) {
            $button = $('<button>' + answers[c] + '</button>');
            $button.on('click', function() {
        //  console.log($(this).text());
       
            });
          }



    // console.log(questions);
    // console.log(answers[0]);


    })
  
    $("#questions").append($button);
  

}); </script>

</body>
</html>